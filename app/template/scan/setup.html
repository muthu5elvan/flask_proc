{% extends "layout/base.html" %}

{% block title %}
Startup Setup
{% endblock %}

{% block head %}
    
    <!-- DataTables -->
    <link href="/static/assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.min.css" rel="stylesheet" type="text/css" />
    <link href="/static/assets/libs/datatables.net-buttons-bs4/css/buttons.bootstrap4.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="/static/assets/libs/datatables.net-autofill-bs4/css/autoFill.bootstrap4.min.css">

{% endblock  %}
    
{% block body %}
{% from 'layout/header.html' import header %}
{{header("Startup Setup")}}

<div class="card">
    <div class="card-body overflow-auto">

        <h4 class="card-title">Default Datatable</h4>
        <p class="card-title-desc">DataTables has most features enabled by
            default, so all you need to do to use it with your own tables is to call
            the construction function: <code>$().DataTable();</code>.
        </p>

        <table id="datatable" class="table table-bordered dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
            <thead>
            <tr>
                <th>Name</th>
                <th>Position</th>
                <th>Office</th>
                <th>Age</th>
                <th>Start date</th>
                <th>Salary</th>
            </tr>
            </thead>


            <tbody>
                {% for i in range(40) %}
                    <tr>
                        <td>{{i}}Tiger Nixon</td>
                        <td>{{i}}System Architect</td>
                        <td>{{i}}Edinburgh</td>
                        <td>{{i}}61</td>
                        <td>20{{i}}/04/25</td>
                        <td>${{i}}0,800</td>
                    </tr>
                
                {% endfor %}
            </tbody>
        </table>

    </div>
</div>

{% endblock %}

{% block script %}
    <!-- Required datatable js -->
    <script src="/static/assets/libs/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="/static/assets/libs/datatables.net-bs4/js/dataTables.bootstrap4.min.js"></script>

    <script src="/static/assets/libs/datatables.net-autofill/js/dataTables.autoFill.min.js"></script>
    <script src="/static/assets/libs/datatables.net-autofill-bs4/js/autoFill.bootstrap4.min.js"></script>

    <script>
        $("#datatable").DataTable({
        });

        $('#datatable tbody').on('click', 'td.details-control', function () {
            var tr = $(this).closest('tr:first-child');
            var row = table.row( tr );
     
            if ( row.child.isShown() ) {
                // This row is already open - close it
                row.child.hide();
                tr.removeClass('shown');
            }
            else {
                // Open this row
                row.child( `
                <table  id="" class="table table-bordered dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                    <thead>
                        
                        <th>Name</th>
                        <th>Position</th>
                        <th>Office</th>
                        <th>Age</th>
                        <th>Start date</th>
                        <th>Salary</th>
                    </thead>
                    <tbody>
                        
                        {% for i in range(40) %}
                        <tr>
                            <td>{{i}}Tiger Nixon</td>
                            <td>{{i}}System Architect</td>
                            <td>{{i}}Edinburgh</td>
                            <td>{{i}}61</td>
                            <td>20{{i}}/04/25</td>
                            <td>$ {{i}}0,800</td>
                        </tr>
                    
                        {% endfor %}
                    </tbody>
                </table>
                ` ).show();
                tr.addClass('shown');
            }
        } );

        /*/<!-- Table row Drag -->*/
        
        $(function () {
            $('tbody').sortable();
        });
    </script>
{% endblock %}